# ✏️ 이상 현상 (Anomaly)

---

이상현상이란, 테이블 내의 데이터들이 불필요하게 중복되어 테이블을 조작할 때 발생하는 데이터 불일치 현상을 말합니다. 테이블을 잘못 설계해서 삽입, 삭제 및 갱신할 때 오류가 발생하는 것입니다.

이상현상에는 크게 `삽입이상, 갱신이상, 삭제이상`으로 구분지을 수 있고, 정규화 과정을 통해 이상현상을 해결할 수 있습니다.

해당 테이블 사진을 통해 설명을 진행해보도록 하겠습니다.
<img width="100%" src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FccleUR%2FbtraQrfiyuS%2FjMrM5xrAkdCJjqTpiUZP81%2Fimg.png" />

<br>

### 1️⃣ 삽입 이상 (Insertion Anomaly)

> 삽입이상은 특정 데이터가 존재하지 않아 중요한 데이터를 데이터베이스에 삽입할 수 없을 때 발생합니다.

강의를 수강하지 않은 학생을 추가할 때 과목번호와 성적에 null값이 들어가거나 불필요한 데이터를 추가해야 삽입할 수 있는 문제점이 발생할 수 있습니다. 예를 들어, `(학번:500, 지도교수: P5, 학과: 컴퓨터)`라는 데이터는 삽입 불가능할 것입니다. 학생이 수강신청을 할 때 반드시 과목번호를 알아야 삽입이 가능하기 때문입니다.

<br>

### 2️⃣ 삭제 이상 (Deletion Anomaly)

> 삭제이상은 특정 정보를 삭제하면 원치 않는 정보도 삭제되는 현상입니다.

위의 테이블에서 학번이 300번인 학생이 과목 수강을 취소하게 되면 C-73인 강의에 대한 정보가 모두 삭제됩니다. 마찬가지로 P1교수가 강의하는 과목을 취소하는 경우 학번이 123인 학생에 대한 정보도 모두 삭제되고 맙니다.

**해당 현상은 정규화에 의해 테이블을 분리하게 되면 해결할 수 있습니다.**

<br>

### 3️⃣ 갱신 이상 (Update Anomaly)

> 업데이트 이상은 테이블의 특정 데이터를 업데이트 했는데 정상적으로 변경되지 않은 경우, 그리고 너무 많은 행을 업데이트하는 것을 말합니다.

위의 테이블에서 학번이 123인 학생의 지도교수가 P2로 변경된다고 가정해보면 학번이 123인 학생이 수강하는 모든 과목(행)에서의 지도교수를 변경시켜야 합니다.

**해당 현상도 동일하게 테이블을 분리하게 되면 해결할 수 있습니다. 학생과 지도교수를 같이 관리하는 테이블로 분리를 한 후에 해당하는 ROW에서 값만 바꿔주면 더욱 효율적으로 해결 가능할 것 같습니다.**

---

## Reference

- https://rebro.kr/159
- https://developer-talk.tistory.com/256
