# ✏️ Heap Sort (힙정렬)

---

이번 포스팅에서는 힙 정렬에 대해서 알아보겠습니다.<br>
힙 정렬을 알기 전에 먼저 이진트리와 힙에 대해서 알아보겠습니다.

### 1. 이진트리란?

이진트리는 `각각의 노드가 최대 2개의 자식 노드를 가지는 트리 자료구조`로 자식 노드를 각각 왼쪽 자식 노드와 오른쪽 자식 노드라고 합니다.

여기서 완전이진트리라는 개념이 있는데 완전이진트리는 `이진트리에서 자식 노드들이 왼쪽부터 차곡차곡 채워져 있는 트리를 말하며 마지막 레벨을 제외하고 노드가 모두 채워져 있어야 하는 상태를 말합니다`. 마지막 레벨도 왼쪽부터 채워져야 합니다.

<br>

### 2. 힙이란?

힙이란 `최댓값 및 최솟값을 찾아내는 연산을 빠르게 하기 위해서 고안된 완전이진트리를 기본으로 한 자료구조`입니다. `우선순위 큐를 위해 만들어진 자료구조`라고도 할 수 있습니다.

<br>

### 3. 힙 정렬이란?

힙 정렬이란 `최대 힙 트리나 최소 힙 트리를 구성해서 정렬하는 방법으로, 내림차순 정렬을 위해서는 최대 힙을 구성하고 오름차순 정렬을 위해서는 최소 힙을 구성`하면 됩니다.

`힙 정렬은 퀵 정렬 및 병합 정렬과 마찬가지로 분할-정복 알고리즘`입니다.

> - 최대 힙: 부모 노드가 자식 노드보다 큰 트리
> - 최소 힙: 자식 노드가 부모 노드보다 큰 트리

힙은 1차원 배열로 쉽게 구현할 수 있습니다.<br>
정렬해야 할 N개의 요소들을 1차원 배열에 저장을 해놓고 최대 힙 또는 최소 힙 삽입을 통해 차례대로 삽입합니다.<br>
이후 최대 힙 또는 최소 힙으로 구성된 배열에서 최댓값부터 삭제합니다.

<br>

### 4. 힙 정렬 과정

#### 최대 힙 삽입

- 힙에 새로운 요소가 들어오면 일단 새로운 노드를 힙의 마지막 노드에 이어서 삽입합니다.
- 새로운 노드를 부모 노드들과 교환해서 힙의 성질을 만족시킵니다.

<img src="https://gmlwjd9405.github.io/images/data-structure-heap/maxheap-insertion.png" style="background-color: white"/>

#### 최대 합 삭제

- 최대 힙에서 최댓값은 루트 노드이므로 루트 노드가 삭제됩니다.
  - 최대 힙에서 삭제 연산은 최댓값을 가진 요소를 삭제하는 것입니다.
- 삭제된 루트 노드에는 힙의 마지막 노드를 가져옵니다.
- 힙을 다시 재구성합니다.

<img src="https://gmlwjd9405.github.io/images/data-structure-heap/maxheap-delete.png" style="background-color: white" />

<br>

### 5. 힙 정렬의 특징 및 시간복잡도

#### 특징

- 시간 복잡도가 꽤 좋은 편입니다.
- 힙 정렬이 가장 유용한 경우는 전체 자료를 정렬하는 것이 아닌 가장 큰 값 또는 가장 작은 값 몇개만 필요할 때입니다.

#### 시간복잡도

- 힙 트리의 전체 높이가 거의 `log2n(완전이진트리)`이므로 하나의 요소를 힙에 삽입하거나 삭제할 때 힙을 재정비하는 시간이 `log2n`만큼 소요됩니다.
- 요소의 개수가 N개이므로 전체적으로 `O(Nlog2N)`의 시간이 걸립니다.

<img src="https://gmlwjd9405.github.io/images/algorithm-heap-sort/sort-time-complexity.png" style="background-color: white" />

> 단순하고 구현이 간단하지만 비효율적인 방법 => 삽입정렬, 선택정렬, 버블정렬 <br>
> 복잡하지만 효율적인 방법 => 퀵정렬, 힙정렬, 합병정렬, 기수정렬

---

### Reference

- https://gmlwjd9405.github.io/2018/05/10/algorithm-heap-sort.html
- https://yjg-lab.tistory.com/169
- https://hongcoding.tistory.com/186
